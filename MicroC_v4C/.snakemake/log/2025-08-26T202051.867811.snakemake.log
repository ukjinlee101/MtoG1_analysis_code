Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 500
Job stats:
job        count
-------  -------
all            1
allInfo       14
step           2
total         17

Select jobs to execute...

[Tue Aug 26 20:20:52 2025]
rule step:
    input: /athena/apostoloulab/scratch/ukl4001/reference/mm10/mm10.bin.5kb.bed, /athena/apostoloulab/scratch/ukl4001/data/v4C/vpInfo/vp.ENSMUSG00000028078.Dclk2.bed, /athena/apostoloulab/scratch/collab/Genome/Mus_Musculus/UCSC/mm10/Sequence/WholeGenomeFasta/genome.fa.fai, /athena/apostoloulab/scratch/ukl4001/reference/mm10/MboI_mm10.bed
    output: /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/region1.ENSMUSG00000028078.Dclk2__5kb, /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/step1.ENSMUSG00000028078.Dclk2__5kb, /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/slop.ENSMUSG00000028078.Dclk2__5kb, /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/step.ENSMUSG00000028078.Dclk2__5kb
    jobid: 1
    reason: Missing output files: /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/step1.ENSMUSG00000028078.Dclk2__5kb, /athena/apostoloulab/scratch/ukl4001/data_vault_2024summer/source/v4C_allGene/temp/region1.ENSMUSG00000028078.Dclk2__5kb
    wildcards: gene=ENSMUSG00000028078.Dclk2, res=5
    threads: 4
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>

RuleException in rule step in file /athena/cayuga_0007/scratch/ukl4001/MtoG1_analysis_code/MicroC_v4C/MicroC_v4C_step1_parallel.smk, line 31:
ValueError: unexpected '{' in field name, when formatting the following:

		# Extract bin with VP (region1)
		intersectBed -a {input.binned} -b {input.vp} -wa -u > {output.region1}
		
		# Expand the region of interest to +- 2Mb (slop)
		slopBed -i {output.region1} -g {input.genome} -b 2000000 > {output.slop}
		
		# Create 5kb windows with 500 bp steps within 4Mb regions (step)
		bedtools makewindows -b {output.slop} -w {1000*int({params.res})} -s {50*int({params.res})} > {output.step}
		
		# Count number of restriction sites within each window (step1)
		intersectBed -a {output.step} -b {input.mboi} -c > {output.step1}
		
